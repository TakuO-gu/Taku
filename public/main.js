let parallax1Elements=document.querySelectorAll(".parallax1"),parallax2Elements=document.querySelectorAll(".parallax2"),parallax3Elements=document.querySelectorAll(".parallax3");function parallaxEffect(){let t=window.pageYOffset;parallax1Elements.forEach(l=>{l.style.transform="translateY("+-1*t+"px)"}),parallax2Elements.forEach(l=>{l.style.transform="translateY("+.9*t+"px)"}),parallax3Elements.forEach(l=>{l.style.transform="translateY("+-.5*t+"px)"})}function throttle(t,l){let a,o;return function(){let i=this,s=arguments;o?(clearTimeout(a),a=setTimeout(function(){Date.now()-o>=l&&(t.apply(i,s),o=Date.now())},l-(Date.now()-o))):(t.apply(i,s),o=Date.now())}}window.addEventListener("scroll",throttle(parallaxEffect,30));let philosophyItems=document.querySelectorAll("#philosophy .myPhilosophy li");function adjustVisibility(){philosophyItems.forEach(t=>{let l=t.getBoundingClientRect(),a=l.top+l.height/2,o=window.innerHeight;a>.3*o&&a<.7*o?t.classList.add("blurDetached"):t.classList.remove("blurDetached")})}let isFirstLoad=!0;window.addEventListener("scroll",throttle(adjustVisibility,60)),document.addEventListener("DOMContentLoaded",function(){
  // if(!sessionStorage.getItem("isBack")){"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0);let t=t=>{t.preventDefault()};window.addEventListener("wheel",t,{passive:!1}),window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("keydown",function(t){[32,33,34,35,36,37,38,39,40].includes(t.keyCode)&&t.preventDefault()},{passive:!1})}
  var l=document.querySelector("#hero button");l.addEventListener("click",function(){l.classList.add("fade-in"),document.querySelector("body").classList.add("fade-out"),document.querySelector("#hero").classList.add("fade-in"),e=!0,sessionStorage.setItem("isBack","true")});var a=window.pageYOffset||document.documentElement.scrollTop;window.onscroll=function(){var t=window.pageYOffset||document.documentElement.scrollTop,l=document.querySelector(".ImAGraphicDesigner"),o=document.querySelector("#hero .heresMyWorks"),i=parseFloat(l.style.left)||0,s=parseFloat(o.style.left)||0;a<t?(l.style.left=i-2.7+"%",o.style.left=s-1.8+"%"):a>t&&(l.style.left=i+2.7+"%",o.style.left=s+1.8+"%"),a=t,window.addEventListener("scroll",function(){if(0===window.pageYOffset||0===document.documentElement.scrollTop){var t=document.querySelector(".ImAGraphicDesigner"),l=document.querySelector(".heresMyWorks"),a=.01*(window.pageYOffset||document.documentElement.scrollTop)+"%";t.style.left=a,l.style.left=a}})}});let philosophyMessage=document.querySelector("#philosophy .message"),initialWidth=philosophyMessage?philosophyMessage.getBoundingClientRect().width:0;function adjustMessageWidth(){let t=window.innerHeight;if(window.pageYOffset||document.documentElement.scrollTop,!philosophyMessage)return;let l=philosophyMessage.getBoundingClientRect(),a=l.top,o=l.bottom;a<=0&&o>=0?(philosophyMessage.style.width=initialWidth+(0-a)/(t-0)*(100-initialWidth)+"%",philosophyMessage.style.backgroundColor="rgba(34, 34, 34, 0.9)"):philosophyMessage.style.backgroundColor="rgba(34, 34, 34, 0)"}window.addEventListener("scroll",throttle(adjustMessageWidth,60));let worksWindows=Array.from(document.querySelectorAll("#works .worksWindow .worksWindowBG")),viewportHeight=window.innerHeight,scrollPosition=window.pageYOffset;function updatePositions(){worksWindows.forEach(t=>{let l=t.getBoundingClientRect(),a=(l.top+l.bottom)/(2*viewportHeight);t.style.transform=`translate(-50%, -50%) translate3d(0, ${40-40*a}px, 0)`})}function applyParallax(){let t=window.pageYOffset,l=window.innerHeight;(t!==scrollPosition||l!==viewportHeight)&&(scrollPosition=t,viewportHeight=l,updatePositions()),requestAnimationFrame(applyParallax)}window.addEventListener("scroll",throttle(applyParallax(),30));let lastScrollTop=0,lastTime=Date.now(),lastDirection=0;const titles=Array.from(document.querySelectorAll(".title .reelWrap")).map(t=>{let l=window.getComputedStyle(t);return{element:t,initialX:new WebKitCSSMatrix(l.transform).m41,variationValue:0}});function adjustTransform(){titles.forEach(t=>{let l=t.variationValue+t.initialX;t.element.style.transform=`translateX(${l}%)`,t.element.querySelectorAll("span").forEach(l=>{l.style.transform=`rotate(calc(${t.variationValue} * 3.6deg))`})})}function animate(){let t=window.pageYOffset||document.documentElement.scrollTop,l=Date.now(),a=Math.abs(t-lastScrollTop)/(l-lastTime);t>lastScrollTop?lastDirection=1:t<lastScrollTop?lastDirection=-1:a=.005,titles.forEach(t=>{t.variationValue=t.variationValue+10*a*lastDirection,t.variationValue>=0?t.variationValue=-100:t.variationValue<=-200&&(t.variationValue=-100);let l=t.element.getBoundingClientRect();l.right<0?t.initialX+=window.innerWidth+l.width:l.left>window.innerWidth&&(t.initialX-=window.innerWidth+l.width)}),lastScrollTop=t<=0?0:t,lastTime=l,adjustTransform(),requestAnimationFrame(animate)}animate();