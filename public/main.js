function handleScrollEvent(){parallaxEffect(),adjustVisibility(),adjustMessageWidth(),updatePositions()}window.addEventListener("scroll",handleScrollEvent);let parallax1Elements=document.querySelectorAll(".parallax1"),parallax2Elements=document.querySelectorAll(".parallax2"),parallax3Elements=document.querySelectorAll(".parallax3");function parallaxEffect(){let e=window.pageYOffset,t=window.matchMedia("(max-width: 768px)").matches?-.5:-1;parallax1Elements.forEach(l=>{l.style.transform="translateY("+t*e+"px)"}),parallax2Elements.forEach(t=>{t.style.transform="translateY("+.9*e+"px)"}),parallax3Elements.forEach(t=>{t.style.transform="translateY("+-.5*e+"px)"})}let philosophyItems=document.querySelectorAll("#philosophy .myPhilosophy li");function adjustVisibility(){philosophyItems.forEach(e=>{let t=e.getBoundingClientRect(),l=t.top+t.height/2,a=window.innerHeight;l>.3*a&&l<.7*a?e.classList.add("blurDetached"):e.classList.remove("blurDetached")})}let isFirstLoad=!0;document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector("#hero button"),t=document.querySelector("#hero"),l=document.body,a=document.querySelector(".ImAGraphicDesigner"),o=document.querySelector("#hero .heresMyWorks"),i=sessionStorage.getItem("isBack"),s=0,r=e=>{l.style.overflow=e?"hidden":""},n=(e,t)=>{if(e){let l=parseFloat(e.style.left)||0;e.style.left=`${l+t}%`}};i?(e.style.display="none",t.classList.add("fade-in"),l.classList.add("fade-out"),r(!1)):r(!0),e.addEventListener("click",()=>{[e,t,l].forEach(e=>e.classList.add("fade-in","fade-out")),r(!1),sessionStorage.setItem("isBack","true")}),window.addEventListener("scroll",()=>{let e=window.pageYOffset||document.documentElement.scrollTop,t=e>s?-2.7:2.7;0===e?(a&&(a.style.left=""),o&&(o.style.left="")):(n(a,t),n(o,t/1.5)),window.addEventListener("scroll",function(){if(0===window.pageYOffset||0===document.documentElement.scrollTop){var e=document.querySelector(".ImAGraphicDesigner"),t=document.querySelector(".heresMyWorks");e&&(e.style.left="0%"),t&&(t.style.left="0%")}}),s=e})});let philosophyMessage=document.querySelector("#philosophy .message"),initialWidth=philosophyMessage?philosophyMessage.getBoundingClientRect().width:0;function adjustMessageWidth(){let e=window.innerHeight;if(window.pageYOffset||document.documentElement.scrollTop,!philosophyMessage)return;let t=philosophyMessage.getBoundingClientRect(),l=t.top,a=t.bottom;l<=0&&a>=0?(philosophyMessage.style.width=initialWidth+(0-l)/(e-0)*(100-initialWidth)+"%",philosophyMessage.style.backgroundColor="rgba(34, 34, 34, 0.9)"):philosophyMessage.style.backgroundColor="rgba(34, 34, 34, 0)"}let worksWindows=Array.from(document.querySelectorAll("#works .worksWindow .worksWindowBG")),viewportHeight=window.innerHeight,scrollPosition=window.pageYOffset;function updatePositions(){worksWindows.forEach(e=>{let t=e.getBoundingClientRect(),l=(t.top+t.bottom)/(2*viewportHeight);l=2*l-1,l*=-20,e.style.transform=`translate(-50%, -50%) translate3d(0, ${l}px, 0)`})}let lastScrollTop=0,lastTime=Date.now(),lastDirection=0;const titles=Array.from(document.querySelectorAll(".title .reelWrap")).map(e=>{let t=window.getComputedStyle(e);return{element:e,initialX:new WebKitCSSMatrix(t.transform).m41,variationValue:0}});function adjustTransform(){titles.forEach(e=>{let t=e.variationValue+e.initialX;e.element.style.transform=`translateX(${t}%)`,e.element.querySelectorAll("span").forEach(t=>{t.style.transform=`rotate(calc(${e.variationValue} * 3.6deg))`})})}function animate(){let e=window.pageYOffset||document.documentElement.scrollTop,t=Date.now(),l=Math.abs(e-lastScrollTop)/(t-lastTime);e>lastScrollTop?lastDirection=1:e<lastScrollTop?lastDirection=-1:l=.005;let a=window.innerWidth<=820?1:10;titles.forEach(e=>{e.variationValue=e.variationValue+a*l*lastDirection,e.variationValue>=0?e.variationValue=-100:e.variationValue<=-200&&(e.variationValue=-100);let t=e.element.getBoundingClientRect();t.right<0?e.initialX+=window.innerWidth+t.width:t.left>window.innerWidth&&(e.initialX-=window.innerWidth+t.width)}),lastScrollTop=e<=0?0:e,lastTime=t,adjustTransform(),requestAnimationFrame(animate)}animate();